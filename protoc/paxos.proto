syntax = "proto3";

option go_package="github.com/fudute/paxos/protoc";

package protoc;

service Paxos {
    rpc Prepare (PrepareRequest) returns (PrepareReply) {}
    rpc Accept (AcceptRequest) returns (AcceptReply) {}
}

message PrepareRequest {
    int64 Index = 1;
    int64 ProposalNum = 2;
}
message PrepareReply {
    int64 AcceptedProposal = 1;
    string AcceptedValue = 2;
}

message AcceptRequest {
    int64 Index = 1;
    int64 ProposalNum = 2;
    string ProposalValue = 3;
}
message AcceptReply {
    int64 MiniProposal = 1;
}

